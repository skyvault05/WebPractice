<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<style>
	table{width: 600px ; height:auto; border: 5px inset green}
	th,td{text-align:center; border:1px solid gray}
</style>
 <script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>
 <script type="text/javascript">
    $(function(){
    	$("#send").click(function(){
    		//$().load(), $.getJSON(), $.get(), $.post() 
    		
    		$.ajax({
    			url:"13-5.serverPageXML.jsp" , //서버주소(요청주소)
    			type: "post", //post, get, put, delete (요청방식)
    		    dataType:"xml" , //html, text, xml, json (응답데이터타입)
    		    //data: , //서버에게 전송하는 parameter정보
    		    success : function(result){
    		    	//alert(result);
    		    	var str="";
    		    	$(result).find("member").each(function(index, item){
    		    		//alert(index+" , " + $(this).find("name").text() );
    		    		str+="<tr>";
    		    		str+="<td>"+$(this).find("name").text()+"</td>";
    		    		str+="<td>"+$(this).find("age").text()+"</td>";
    		    		str+="<td>"+$(this).find("addr").text()+"</td>";
    		    		str+="</tr>";
    		    	});
    		    	
    		    	//$("#table").html(str);
    		    	//alert(str);
    		    	//alert ( $("#table tr") ) 
    		    	
    		    	
    		    	//$("#table tr:eq(0)").after(str); 
    		    	
    		    	
    		    	$("#table tr:gt(0)").remove(); 
    		    	$("#table tr").after(str); 
    		    	
    		    	
    		    } , //응답결과가 성공했을때 
    		    error:function(err){
    		    	alert(err+"-> 오류 발생");
    		    } //응답결과가 실패했을때
    		});
    	})
    	
    })
 </script>

</head>
<body>
	<a href="#" id="send">데이터가져오기</a><p/>
	
  <table id="table">
  	  <tr>
  	  	<th>이름</th>
		<th>나이</th>
		<th>주소</th>
  	  </tr>
  </table>
</body>
</html>



